<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Octopress | 我是清都山水郎]]></title>
  <link href="http://odinyu.github.com/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://odinyu.github.com/"/>
  <updated>2012-03-27T18:04:47+08:00</updated>
  <id>http://odinyu.github.com/</id>
  <author>
    <name><![CDATA[sleepy]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[disqus回复评论超方便]]></title>
    <link href="http://odinyu.github.com/blog/disqus-is-very-convenience/"/>
    <updated>2012-03-19T18:20:00+08:00</updated>
    <id>http://odinyu.github.com/blog/disqus-is-very-convenience</id>
    <content type="html"><![CDATA[<p>disqus用下来感觉还不错，昨天又发现了一个很方便的功能，就是可以直接在disqus的通知邮件里回复评论者，很sweet!</p>

<blockquote><p>You can moderate through email. Respond in the body with "Delete". Respond in the body to post a reply comment.</p></blockquote>

<p>上面是disqus通知邮件里的提示，我按提示回复了一下，果然直接在原评论后嵌套了我的回复，相当地方便，超好用!</p>

<p>ps，刚才试用了一个和友言差不多的国内的社会化评论产品--评论啦，能导入wordpress，但却不能在新的网页上显示评论，也就是无法关联评论。所以现在还是继续用disqus，虽然很国外。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[用mklink把octopress直接放到dropbox同步文件夹内]]></title>
    <link href="http://odinyu.github.com/blog/mklink-octopress-to-dropbox/"/>
    <updated>2012-03-19T15:53:00+08:00</updated>
    <id>http://odinyu.github.com/blog/mklink-octopress-to-dropbox</id>
    <content type="html"><![CDATA[<p>之前准备把博客迁移到octopress在google上找参考的时候，就看到有人说将octopress直接放到dropbox同步文件夹里，这样方便在多个环境内修改日志，而避免用git去pull再push的麻烦。不过那么大神没有给出解决文案，不过至少也给了一个好的思路。</p>

<p>很久以前曾经看到过dropbox的使用技巧里如何将多个文件夹都能同步，在win7环境下使用mklink就能解决。然后我再次上google进行了一番查询，下面给出我自己所使用的代码。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mklink /d "d:\Program Files\Git\octopress\" d:\dropbox\Dropbox\octopress\</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>这里需要注意三点：</p>

<ul>
<li>双引号只是针对windows系统下带空格的文件夹，不加双引号会报错</li>
<li>双引号内的octopress文件夹必须是不存在的</li>
<li>dropbox内的octopress文件夹需要先建立好</li>
</ul>


<h3>后记</h3>

<p>今天突然发现两个也用octopress的博客的主题和我用的是一样的，这个让人感觉有点郁闷，就像开开心心地穿了件新衣服出去却发现满街都是和你穿得一样的人那种感觉。</p>

<p>所以，等有空的时候必须要改一下主题，虽然我并不擅长css。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[将我的域名指向到github上的octopress]]></title>
    <link href="http://odinyu.github.com/blog/direct-domain-to-octopress-at-equals-github/"/>
    <updated>2012-03-15T17:58:00+08:00</updated>
    <id>http://odinyu.github.com/blog/direct-domain-to-octopress-at-equals-github</id>
    <content type="html"><![CDATA[<p>经过了一周时间不断加班的摧残，今天终于有空来折腾octopress了。</p>

<p>想着将disqus换成友言的，希望更适合中文环境。将评论导入的过程比较麻烦，先是想在wordpress装上友言的插件，然后导出所有评论，以为这样可能会比较好导入。可是打开一看，日志的url不正确，不是我需要的那种。</p>

<p>换种方法，从之前导入好评论的disqus里导出，然后写代码生成友言格式的xml文件。使用dom4j，还蛮简单的，1个多小时搞定。</p>

<p>可惜导入成功后，无法与现有的日志进行匹配，自动化程序远不及disqus。</p>

<p>所以最后还是回归disqus，并且顺便把域名也指向github，以示今后就在octopress上折腾的决心。</p>

<h3>记录一下将域名指向github的过程</h3>

<p>需要在octopress的根目录里增加一个文件</p>

<p><code>echo 'fancyoung.com' &gt;&gt; source/CNAME</code></p>

<p>到godaddy上修改cname</p>

<p><code>@ =&gt; odinyu.github.com</code></p>

<p>并修改A</p>

<p><code>@ =&gt; 207.97.227.245</code></p>

<h4>今天游戏上线还算比较平稳，所以终于不用加班到很晚，抚额庆幸</h4>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[安装octopress主题slash]]></title>
    <link href="http://odinyu.github.com/blog/install-octopress-theme-slash/"/>
    <updated>2012-03-07T21:45:00+08:00</updated>
    <id>http://odinyu.github.com/blog/install-octopress-theme-slash</id>
    <content type="html"><![CDATA[<p>还是对于octopress折腾的记录，年纪大了记不住那么多的命令。</p>

<p>这个slash主题就是我现在用的这个，很简洁大方，同时还很喜欢它的灰色调。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd octopress
</span><span class='line'>git clone git@github.com:tommy351/Octopress-Theme-Slash.git .themes/slash
</span><span class='line'>rake install['slash']
</span><span class='line'>rake generate</span></code></pre></td></tr></table></div></figure></notextile></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[使用脚本发布octopress日志]]></title>
    <link href="http://odinyu.github.com/blog/post-octopress-via-sh-script/"/>
    <updated>2012-03-07T13:31:00+08:00</updated>
    <id>http://odinyu.github.com/blog/post-octopress-via-sh-script</id>
    <content type="html"><![CDATA[<p>经过本人不断的努力和尝试，终于可以比较舒服地并不受打扰地发布日志到octopress，这下终于爽了！哈哈！</p>

<h3>此举的目的</h3>

<p>可以毫不避讳地说，是为了偷懒。</p>

<h3>准备工作</h3>

<p>不过为了长期地偷懒，先期还是需要做一些准备工作的。</p>

<ul>
<li>首先是在网上找到高手写的sh脚本。</li>
<li>然后对脚本进行修改，也就是自定义。</li>
<li>下载并安装mktemp for windows。</li>
</ul>


<h3>贴出脚本</h3>

<p>脚本需要放在octopress的安装目录。</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span> (blog.sh)</span> <a href='/downloads/code/blog.sh'>download</a></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="c">#!/bin/bash</span>
</span><span class='line'><span class="c"># Author: Hsin-Yi Chen &lt;ossug.hychen AT gmail.com&gt;</span>
</span><span class='line'><span class="c"># Alter: Odin Yu &lt;qdssly AT gmail.com&gt;</span>
</span><span class='line'><span class="nv">ERRMSG_WRONGDIR</span><span class="o">=</span><span class="s1">&#39;You are not under octopress directory&#39;</span>
</span><span class='line'><span class="o">[</span> ! -f _config.yml <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="k">${</span><span class="nv">ERRMSG_WRONGDIR</span><span class="k">}</span> <span class="o">&amp;&amp;</span> <span class="nb">exit</span>
</span><span class='line'>
</span><span class='line'><span class="nv">BLOGDIR</span><span class="o">=</span><span class="k">${</span><span class="nv">PWD</span><span class="k">}</span>
</span><span class='line'>
</span><span class='line'>submit<span class="o">(){</span>
</span><span class='line'>	<span class="nb">local </span><span class="nv">message</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="p">?</span><span class="s2">&quot;requires message&quot;</span><span class="k">}</span>
</span><span class='line'>	git add .
</span><span class='line'>	git commit -m <span class="k">${</span><span class="nv">message</span><span class="k">}</span>
</span><span class='line'>	git push origin <span class="nb">source</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>update<span class="o">(){</span>
</span><span class='line'>	<span class="nb">cd </span>_deploy
</span><span class='line'>	git pull origin master
</span><span class='line'>	<span class="nb">cd</span> ..
</span><span class='line'>	git pull origin <span class="nb">source</span>
</span><span class='line'><span class="nb">	</span>rake generate
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>generate<span class="o">(){</span>
</span><span class='line'>	rake generate
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>deploy<span class="o">(){</span>
</span><span class='line'>	rake deploy
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>update_octopress<span class="o">(){</span>
</span><span class='line'>	<span class="nb">echo</span> <span class="s1">&#39;upgrading octopress source&#39;</span>
</span><span class='line'>	git pull octopress master     <span class="c"># Get the latest Octopress</span>
</span><span class='line'>	bundle install                <span class="c"># Keep gems updated</span>
</span><span class='line'>	rake update_source            <span class="c"># update the template&#39;s source</span>
</span><span class='line'>	rake update_style             <span class="c"># update the template&#39;s style</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>preview<span class="o">(){</span>
</span><span class='line'>	rake preview &amp;
</span><span class='line'>	sleep 1
</span><span class='line'>	ff http://127.0.0.1:4000
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>upgrade<span class="o">(){</span>
</span><span class='line'>	update_octopress
</span><span class='line'>	generate
</span><span class='line'>	deploy
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c"># start to write new post</span>
</span><span class='line'><span class="c"># @param: post title</span>
</span><span class='line'>post<span class="o">(){</span>
</span><span class='line'>	<span class="nb">local </span><span class="nv">title</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="p">?</span><span class="s2">&quot;requires title&quot;</span><span class="k">}</span>
</span><span class='line'>	_new_item post <span class="k">${</span><span class="nv">title</span><span class="k">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c"># start to write new page</span>
</span><span class='line'><span class="c"># @param: page title</span>
</span><span class='line'>page<span class="o">(){</span>
</span><span class='line'>	_new_item page <span class="nv">$1</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'>_new_item<span class="o">(){</span>
</span><span class='line'>	<span class="nb">local </span><span class="nv">tmpfile</span><span class="o">=</span><span class="sb">`</span>mktemp<span class="sb">`</span>
</span><span class='line'>	<span class="nb">local </span><span class="nv">item_name</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="p">?</span><span class="s2">&quot;requires item name&quot;</span><span class="k">}</span>
</span><span class='line'>	<span class="nb">local </span><span class="nv">title</span><span class="o">=</span><span class="k">${</span><span class="nv">2</span><span class="p">?</span><span class="s2">&quot;requires title&quot;</span><span class="k">}</span>
</span><span class='line'>	rake new_<span class="k">${</span><span class="nv">item_name</span><span class="k">}</span><span class="o">[</span><span class="s2">&quot;${title}&quot;</span><span class="o">]</span> | tee <span class="k">${</span><span class="nv">tmpfile</span><span class="k">}</span>
</span><span class='line'>	<span class="nb">local </span><span class="nv">file</span><span class="o">=</span><span class="sb">`</span>cat <span class="k">${</span><span class="nv">tmpfile</span><span class="k">}</span> | awk -F: <span class="s1">&#39;{print $2}&#39;</span> | sed -e <span class="s1">&#39;s/ //&#39;</span><span class="sb">`</span>
</span><span class='line'>	md <span class="k">${</span><span class="nv">BLOGDIR</span><span class="k">}</span>/<span class="nv">$file</span>
</span><span class='line'>	rm <span class="k">${</span><span class="nv">tmpfile</span><span class="k">}</span>
</span><span class='line'>	<span class="c"># return file name</span>
</span><span class='line'>	<span class="nv">RET</span><span class="o">=</span><span class="k">${</span><span class="nv">file</span><span class="k">}</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="c"># Main</span>
</span><span class='line'><span class="c"># ----</span>
</span><span class='line'><span class="nv">actions</span><span class="o">=</span><span class="s2">&quot;post upgrade preview deploy&quot;</span>
</span><span class='line'><span class="nv">action</span><span class="o">=</span><span class="k">${</span><span class="nv">1</span><span class="p">?</span><span class="s2">&quot;requirs action!, avaliabl actions are ${actions}&quot;</span><span class="k">}</span>
</span><span class='line'>
</span><span class='line'><span class="c"># run action</span>
</span><span class='line'><span class="nb">shift</span>
</span><span class='line'><span class="k">${</span><span class="nv">action</span><span class="k">}</span> <span class="nv">$@</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>我的自定义</h3>

<p>上面的脚本里提到的两个我自己加的程序调用的代码如下
<div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>md </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>!/bin/sh&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>exec "c:\Users\Administrator\AppData\Local\Apps\2.0\W8LVT3AZ.YHR\5O9LMMDL.270\mark..tion_12329825c85e214b_0001.0001_aee1d4f50dc5492c\MarkdownPad" "$@"&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>上面的路径需要自己修改&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>ff </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>!/bin/sh&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>exec "d:\Program Files\Mozilla Firefox\firefox" "$@"&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>上面的路径需要自己修改&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>这两个文件不要有后缀名，并放到Git安装目录里的bin目录下</p>

<h3>整个日志发布的工作流</h3>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>日志发布的步骤 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>blog.sh update&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>如果有多台电脑同时编辑博客的话，可能需要先更新到最新的状态&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>blog.sh post this-is-the-test-title&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>blog.sh是我对脚本的命名&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>post是命令&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>this-is-the-test-title是日志的title，同时也是markdown文件的名字&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;h1>执行这条命令后我的电脑上会打开MarkdownPad来编辑新创建的markdown文件&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>blog.sh deploy&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>执行这条命令后，会进行rake genarate和rake deploy操作，如果有发布密码则会提示&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p>blog.sh submit this is work for XXX&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;h1>执行这条命令，即提交所有的修改到github上去&lt;/h1>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h3>小结</h3>

<p>通过脚本将原先需要分多次手打的命令整合到一起，这样方便操作，更适合懒人。</p>

<p>脚本方面可能还需要调整和测试，不过暂时能凑合着用了。</p>
]]></content>
  </entry>
  
</feed>
